<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Installation - OpenCDA</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Installation";
    var mkdocs_page_input_path = "OpenCDA_installation.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> OpenCDA</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../OpenCDA_introduction/">Introduction</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Installation</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#opencda-installation">OpenCDA Installation</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#installation-summary">Installation summary</a></li>
        
            <li><a class="toctree-l3" href="#requirements">Requirements</a></li>
        
            <li><a class="toctree-l3" href="#carla-installation">CARLA Installation</a></li>
        
            <li><a class="toctree-l3" href="#sumo-installation">SUMO Installation</a></li>
        
            <li><a class="toctree-l3" href="#opencda-installation_1">OpenCDA Installation</a></li>
        
            <li><a class="toctree-l3" href="#quickstart-examples">Quickstart Examples</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../OpenCDA_structure/">Framework Structure</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../OpenCDA_examples/">Examples</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../OpenCDA_benchmark/">Benchmarks</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../python_api/">Python API</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">OpenCDA</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Installation</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/xuhan417/OpenCDA-Documents/edit/master/docs/OpenCDA_installation.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="opencda-installation">OpenCDA Installation</h1>
<ul>
<li><strong><a href="#installation-summary">Installation summary</a></strong>  </li>
<li><strong><a href="#requirements">Requirements</a></strong>  </li>
<li><strong><a href="#carla-installation">CARLA installation</a></strong>  <ul>
<li><a href="#1-debian-carla-installation">1. Debian CARLA installation</a>  </li>
<li><a href="#2-package-installation">2. Package installation</a>  </li>
<li><a href="#3-build-from-source">3. Build from source</a>  </li>
</ul>
</li>
<li><strong><a href="#sumo-installation">SUMO installation</a></strong>  <ul>
<li><a href="#1-download-sumo">1. Download SUMO</a>  </li>
<li><a href="#2-install-python-packages">2. Installation Python Package</a>  </li>
</ul>
</li>
<li><strong><a href="#opencda-installation">Install OpenCDA</a></strong>  <ul>
<li><a href="#1-install-carla-as-python-package">1. Install CARLA as Python package</a>  </li>
<li><a href="#2-import-carla-for-conda-users">2. Import CARLA for Conda Users</a>  </li>
<li><a href="#3-install-opencda">3. Install OpenCDA</a>  </li>
</ul>
</li>
<li><strong><a href="#running-carla">Running CARLA</a></strong>  </li>
<li><strong><a href="#follow-up">Follow-up</a></strong>  </li>
</ul>
<hr />
<h2 id="installation-summary">Installation summary</h2>
<p>This installation guide shows how to download and running OpenCDA in your lcoal enviroment. OpenCDA is a generalized frame-work that encapsulated both CARLA and SUMO as simulation platform. With OpenCDA, users can conveniently replace any default module with customized algorithms or protocols and perform evaluations. A concrete example of platooning implementation will be used to illustrate the framework's utility for CDA research.</p>
<hr />
<h2 id="requirements">Requirements</h2>
<p>To get started, the following requirements should be fullfilled.
* <strong>System requirements.</strong> Any 64-bits OS should run OpenCDA. We highly recommends Ubuntu 18.04.</p>
<ul>
<li><strong>Adequate GPU.</strong> CARLA is a realistic simulation platform based on Unity, which requires at least a 6GB GPU for smooth redering, though 8GB is recommended.</li>
<li><strong>Disk Space.</strong> Estimate 30GB of space is recomended. </li>
<li><strong>Python 3.</strong> Python is the main script language in CARLA, SUMO and OpenCDA. OpenCDA provide easy scenario declaration through yaml, but Python3 is required for normal operation. </li>
<li><strong>Simulation platform.</strong> It is necessary to install <a href="https://carla.readthedocs.io/en/latest/start_quickstart/">CARLA</a> and <a href="https://www.eclipse.org/sumo/&gt;">SUMO</a> as OpenCDA uses them as main simulation platform. </li>
<li><strong>Python Version Control.</strong> We recommend to use <a href="https://www.anaconda.com/download">Anaconda</a> or <a href="https://conda.io/miniconda.html">Miniconda</a> for handeling multiple Python versions in parallel enviroments.</li>
<li><strong>Other requirements.</strong>  Two Python modules: <a href="https://pypi.org/project/pygame/">Pygame</a> to create graphics directly with Python, and <a href="https://pypi.org/project/numpy/">Numpy</a> for great calculus.  </li>
</ul>
<p>To install both modules using <a href="https://pip.pypa.io/en/stable/installing/">pip</a>, run the following commands. </p>
<pre><code class="sh">   pip install --user pygame numpy
</code></pre>

<hr />
<h2 id="carla-installation">CARLA Installation</h2>
<p>The <strong>Debian installation</strong> is the easiest way to get the latest release in Linux.<br />
<strong>Download the GitHub repository</strong> to get either a specific release or the Windows version of CARLA.  </p>
<h3 id="1-debian-carla-installation">1. Debian CARLA installation</h3>
<p>Set up the Debian repository in the system.</p>
<pre><code class="sh">   sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1AF1527DE64CB8D9
   sudo add-apt-repository &quot;deb [arch=amd64] http://dist.carla.org/carla $(lsb_release -sc) main&quot;
</code></pre>

<p>Install CARLA and check for the installation in the <code>/opt/</code> folder.</p>
<pre><code class="sh">   sudo apt-get update # Update the Debian package index
   sudo apt-get install carla-simulator # Install the latest CARLA version, or update the current installation
   cd /opt/carla-simulator # Open the folder where CARLA is installed
</code></pre>

<p>This repository contains CARLA 0.9.10 and later versions. To install a specific version add the version tag to the installation command.  </p>
<pre><code class="sh">   sudo apt-get install carla-simulator=0.9.10-1 # In this case, &quot;0.9.10&quot; refers to a CARLA version, and &quot;1&quot; to the Debian revision
</code></pre>

<h3 id="2-package-installation">2. Package installation</h3>
<div class="build-buttons">
<p>
<a href="https://github.com/carla-simulator/carla/blob/master/Docs/download.md" target="_blank" class="btn btn-neutral" title="Go to the latest CARLA release">
<span class="icon icon-github"></span> CARLA repository</a>
</p>
</div>

<p>The repository contains different versions of the CARLA simulator available. The OpenCDA is developed with CARLA 0.9.11, and we recommend this version for any OpenCDA usage. For more information about different versions or releases, please visit <a href="http://127.0.0.1:8000/OpenCDA_installation/#b-package-installation">CARLA installation guide</a>.  </p>
<p>To insall CARLA as a precompiled package, download and extract the release file. It contains a precompiled version of the simulator, the Python API module and some scripts to be used as examples. </p>
<h3 id="3-build-from-source">3. Build From Source</h3>
<p>For advanced CARLA usage that involves extensive customizations, <a href="https://carla.readthedocs.io/en/latest/build_linux/">Build CARLA from Source</a> is also supported by OpenCDA. Though source build in 
Windows OS is supported by CARLA, Ubuntu is the preferred OS as the OpenCDA was developoed in Ubuntu 18.04.  </p>
<p>** Note: OpenCDA do not require CARLA source build. However, custom map ingestion in CARLA may require source build or a docker image. Visit CARLA's tutorial <a href="`CARLA Tutorials (assets). &lt;https://carla.readthedocs.io/en/latest/tuto_A_add_map_overview/">"ADD a new map"</a> for more information. </p>
<hr />
<h2 id="sumo-installation">SUMO Installation</h2>
<p>To implement SUMO with OpenCDA alongside CARLA, it is required to install latest version of SUMO and the corresponding Python package.   </p>
<h3 id="1-download-sumo">1. Download SUMO</h3>
<p>Download the most recent sumo to your ubuntu.  </p>
<pre><code class="sh">   sudo add-apt-repository ppa:sumo/stable
   sudo apt-get update
   sudo apt-get install sumo sumo-tools sumo-doc
</code></pre>

<p>For more information or earlier releases of SUMO, please refer to the <a href="https://sumo.dlr.de/docs/Downloads.php">SUMO documentation</a>.  </p>
<h3 id="2-install-python-packages">2. Install Python packages</h3>
<p>Starting with SUMO 1.8.0 the installation is possible from <a href="https://pypi.org/project/eclipse-sumo/">Python packaging index</a>. You can use pip to install the full python package.  </p>
<pre><code class="sh">   pip install eclipse-sumo
</code></pre>

<p>Alternatively, install an indiviaul package from the SUMO Python package stack(i.e., traci, libsumo, and sumolib) is also supported.  </p>
<pre><code class="sh">   pip install &lt;package-name-to-install&gt;
</code></pre>

<p>For OpenCDA, we recommend install the full SUMO Python package.  </p>
<hr />
<h2 id="opencda-installation_1">OpenCDA Installation</h2>
<p>Before installing OpenCDA, please verify the CARLA and SUMO installation status. OpenCDA uses CARLA as main simulation paltform, hence importing CARLA from its 
root directory is necessary.  </p>
<h3 id="1-install-carla-as-python-package">1. Install CARLA as Python package</h3>
<p>To make CARLA importable, it is necessary to install CARLA as a individual python package.  </p>
<pre><code class="sh">   cd &lt;your-path-to-carla&gt;/PythonAPI/carla/dist
   unzip carla-&lt;your-carla-version&gt;-py3.6-linux-x86_64.egg -d carla-&lt;your-carla-version&gt;-py3.6-linux-x86_64
   cd carla-&lt;your-carla-version&gt;-py3.6-linux-x86_64
</code></pre>

<p>Next, creat a python file with the name "setup.py", and copy the following contents.</p>
<pre><code class="sh">  from distutils.core import setup
  setup(name='carla',
        version='0.9.10', 
        py_modules=['carla'],
        ) 
</code></pre>

<p>Once the setup file has been created, install CARLA using <strong> pip</strong>.  </p>
<pre><code class="sh">  pip3 install -e &lt;your-path-to-carla&gt;/PythonAPI/carla/dist/carla-&lt;your-carla-version&gt;-py3.6-linux-x86_64
</code></pre>

<p>This method is valid for all CARLA installation method including source build.
Alternatively, it is possible to declare the path to the <strong> egg</strong> file at the beginning 
of the script before import CARLA. Please refer to the Python examples provided by CARLA 
for more details. </p>
<h3 id="2-import-carla-for-conda-users">2. Import CARLA for Conda Users</h3>
<p>If you have a dedicated conda enviroment for running OpenCDA. Please refer to the previous sections to install CARLA inside the corresponding conda enviroment to make CARLA importable from any directory.  </p>
<pre><code class="sh">  conda activate &lt;your-env-name&gt;
  pip3 install -e &lt;your-path-to-carla&gt;/PythonAPI/carla/dist/carla-&lt;your-carla-version&gt;-py3.6-linux-x86_64
</code></pre>

<h3 id="3-install-opencda">3. Install OpenCDA</h3>
<p>TO isntall OpenCDA, please download the latest release of OpenCDA from our github repository.  </p>
<pre><code class="sh">  git clone https://github.com/ucla-mobility/OpenCDA
  cd OpenCDA
</code></pre>

<hr />
<h2 id="quickstart-examples">Quickstart Examples</h2>
<p>We provide quickstart examples to help users understanding how to execute a testing scenario. All pre-defined scenarios are located at directory <strong>"OpenCDA/scenario_testing"</strong>. To start a scenario, simple run the following command fron terminal:   </p>
<pre><code class="sh">  cd &lt;your-path-to-OpenCDA&gt;/scenario_testing
  python3 &lt;scenario-name&gt;.py
</code></pre>

<p>To configure the parameters of pre-defined scebarios, such as vehicle spawned location, activated sensor suite, vehicle controller, vehicle behavior, and traffic manager settings, navigate to </p>
<pre><code class="sh">   cd &lt;your-path-to-OpenCDA&gt;/scenario_testing/config_yaml/&lt;your-scenario-name&gt;.yaml
</code></pre>

<p>and reconfigure the parameters in the <strong> yaml</strong> file of the corresponding scenario.  </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../OpenCDA_structure/" class="btn btn-neutral float-right" title="Framework Structure">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../OpenCDA_introduction/" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/xuhan417/OpenCDA-Documents/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../OpenCDA_introduction/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../OpenCDA_structure/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
